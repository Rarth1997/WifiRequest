<!DOCTYPE html>
<html>
<head>
    <title>Acesso Wi-Fi</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <style>
        body { font-family: Arial; text-align: center; padding: 50px 20px; }
        .container { max-width: 400px; margin: 0 auto; }
        button { background: #1877F2; color: white; padding: 15px 30px; 
                border: none; border-radius: 8px; font-size: 16px; margin: 10px; }
    </style>
</head>
<body>
    <div class="container">
        <h2>🌐 Wi-Fi Gratuito</h2>
        <p>Clique para acessar a internet</p>
        <button onclick="liberarAcesso()">📍 Conectar à Internet</button>
    </div>

    <script>
    function getParameter(name) {
        const urlParams = new URLSearchParams(window.location.search);
        return urlParams.get(name);
    }

    function liberarAcesso() {
        // Parâmetros recebidos do roteador Intelbras
        const redirect_uri = getParameter('redirect_uri');
        const user_hash = getParameter('user_hash');
        const ts = getParameter('ts');
        const continue_url = getParameter('continue') || 'https://google.com';

        // Configurações de acesso
        const session_timeout = 28800; // 8 horas
        const idle_timeout = 300;      // 5 minutos
        const download_kbps = 2048;    // 2 Mbps
        const upload_kbps = 1024;      // 1 Mbps

        // Monta URL de redirecionamento para o roteador
        const finalUrl = `${redirect_uri}?ts=${ts}&user_hash=${user_hash}&continue=${encodeURIComponent(continue_url)}&session_timeout=${session_timeout}&idle_timeout=${idle_timeout}&download_kbps=${download_kbps}&upload_kbps=${upload_kbps}`;

        // Redireciona para o roteador liberar acesso
        window.location.href = finalUrl;
    }

    // Auto-executa após 2 segundos (opcional)
    setTimeout(() => {
        document.querySelector('button').click();
    }, 2000);
    </script>
</body>
</html>
